<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AWS S3 Drives</title>
    <link rel="stylesheet" href="index.css">
</head>
<body>
    <!-- Login Page -->
    <div id="loginPage" class="page active">
        <div class="login-page">
            <div class="login-header">
                <h1 class="app-title">AWS S3 Drives</h1>
            </div>
            <div class="login-card">
                <form id="loginForm">
                    <div class="form-group">
                        <label class="form-label" for="loginEmail">Email</label>
                        <input 
                            type="email" 
                            id="loginEmail" 
                            class="form-input" 
                            placeholder="seu@email.com"
                            required
                        />
                    </div>
                    <div class="form-group">
                        <label class="form-label" for="loginPassword">Senha</label>
                        <input 
                            type="password" 
                            id="loginPassword" 
                            class="form-input" 
                            placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢"
                            required
                        />
                    </div>
                    <div id="loginError" class="error-message"></div>
                    <button type="submit" class="btn btn-primary">Entrar</button>
                    <button type="button" class="btn btn-secondary" id="goToSignup">Criar Conta</button>
                </form>
            </div>
        </div>
    </div>

    <!-- Signup Page -->
    <div id="signupPage" class="page">
        <div class="login-page">
            <div class="login-header">
                <h1 class="app-title">AWS S3 Drives</h1>
                <button type="button" class="btn btn-secondary" id="backToLoginFromSignup" style="position: absolute; top: 20px; left: 20px; width: auto; padding: 8px 16px;">‚Üê Voltar</button>
            </div>
            <div class="login-card">
                <h2 style="margin-bottom: var(--space-24); font-size: var(--font-size-2xl);">Criar Conta</h2>
                <form id="signupForm">
                    <div class="form-group">
                        <label class="form-label" for="signupEmail">Email</label>
                        <input 
                            type="email" 
                            id="signupEmail" 
                            class="form-input" 
                            placeholder="seu@email.com"
                            required
                        />
                    </div>
                    <div class="form-group">
                        <label class="form-label" for="signupPassword">Senha</label>
                        <input 
                            type="password" 
                            id="signupPassword" 
                            class="form-input" 
                            placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢"
                            required
                        />
                    </div>
                    <div id="signupError" class="error-message"></div>
                    <button type="submit" class="btn btn-primary">Criar Conta</button>
                </form>
            </div>
        </div>
    </div>

    <!-- Profile Page -->
    <div id="profilePage" class="page">
        <div class="container profile-page">
            <div class="profile-header">
                <h1 class="profile-title">Configurar Perfil</h1>
            </div>
            <div class="profile-container">
                <div class="profile-photo-section">
                    <div class="profile-photo" id="profilePhotoDisplay">
                        <span id="photoPlaceholder">üë§</span>
                    </div>
                    <p class="profile-photo-label">Foto do Perfil</p>
                    <button type="button" class="btn btn-secondary btn-upload" id="uploadPhotoBtn">
                        Escolher Foto
                    </button>
                    <input type="file" id="photoInput" accept="image/*" style="display: none;" />
                </div>
                <div class="profile-form-section">
                    <form id="profileForm" class="profile-form">
                        <div class="form-group">
                            <label class="form-label" for="profileName">Nome Completo</label>
                            <input 
                                type="text" 
                                id="profileName" 
                                class="form-input" 
                                placeholder="Seu nome completo"
                                required
                            />
                        </div>
                        <div class="form-group">
                            <label class="form-label" for="profileUsername">Nome de Usu√°rio</label>
                            <input 
                                type="text" 
                                id="profileUsername" 
                                class="form-input" 
                                placeholder="nomedeusuario"
                                required
                            />
                        </div>
                        <div class="form-group">
                            <label class="form-label" for="profileEmail">Email</label>
                            <input 
                                type="email" 
                                id="profileEmail" 
                                class="form-input" 
                                readonly
                            />
                        </div>
                        <div class="form-group">
                            <label class="form-label" for="profileNewEmail">Novo Email</label>
                            <input 
                                type="email" 
                                id="profileNewEmail" 
                                class="form-input" 
                            />
                        </div>
                        <div class="form-group">
                            <label class="form-label" for="profilePassword">Nova Senha (opcional)</label>
                            <input 
                                type="password" 
                                id="profilePassword" 
                                class="form-input" 
                                placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢"
                            />
                        </div>
                        <div class="form-group">
                            <label class="form-label" for="profileDescription">Descri√ß√£o Pessoal</label>
                            <textarea 
                                id="profileDescription" 
                                class="form-input" 
                                placeholder="Conte um pouco sobre voc√™..."
                            ></textarea>
                        </div>
                        <div class="form-group">
                            <label class="form-label" for="profileCreatedAt">Data de Cria√ß√£o</label>
                            <input 
                                type="text" 
                                id="profileCreatedAt" 
                                class="form-input" 
                                readonly
                            />
                        </div>
                        <div class="form-actions">
                            <button type="submit" class="btn btn-primary">Salvar Perfil</button>
                            <button type="button" class="btn btn-secondary" id="skipProfile">Pular</button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>

    <!-- Dashboard Page -->
    <div id="dashboardPage" class="page">
        <div class="container dashboard-page">
            <div class="dashboard-header">
                <h1 class="dashboard-title">Meus Arquivos</h1>
                <div style="display: flex; gap: 12px;">
                    <button class="btn btn-secondary btn-logout" id="profileBtn">üë§ Perfil</button>
                    <button class="btn btn-secondary btn-logout" id="logoutBtn">Sair</button>
                </div>
            </div>
            <div class="search-section">
                <input 
                    type="text" 
                    id="searchInput" 
                    class="search-input" 
                    placeholder="Buscar arquivos..."
                />
            </div>
            <div class="items-list">
                <div class="media-gallery-header" style="display: flex; justify-content: space-between; align-items: center; margin-bottom: var(--space-24);">
                    <h2 class="items-title">Galeria de M√≠dia</h2>
                    <button id="uploadMediaBtn" class="btn btn-primary">üì§ Upload de M√≠dia</button>
                </div>

                <!-- Barra de filtros -->
                <div class="media-filters" style="display: flex; gap: var(--space-12); margin-bottom: var(--space-16); flex-wrap: wrap; align-items: center;">
                    <!-- Filtro por tipo -->
                    <div class="filter-group">
                        <label style="font-size: var(--font-size-sm); color: var(--color-text-secondary); margin-right: var(--space-8);">Tipo:</label>
                        <select id="typeFilter" class="filter-select">
                            <option value="">Todos</option>
                            <option value="image">üñºÔ∏è Imagens</option>
                            <option value="video">üé• V√≠deos</option>
                            <option value="audio">üéµ √Åudios</option>
                        </select>
                    </div>

                    <!-- Ordena√ß√£o -->
                    <div class="filter-group">
                        <label style="font-size: var(--font-size-sm); color: var(--color-text-secondary); margin-right: var(--space-8);">Ordenar:</label>
                        <select id="sortFilter" class="filter-select">
                            <option value="created_at-DESC">Mais recentes</option>
                            <option value="created_at-ASC">Mais antigos</option>
                            <option value="size-DESC">Maior tamanho</option>
                            <option value="size-ASC">Menor tamanho</option>
                            <option value="filename-ASC">Nome (A-Z)</option>
                            <option value="filename-DESC">Nome (Z-A)</option>
                        </select>
                    </div>

                    <!-- Info de resultados -->
                    <div class="filter-info" style="margin-left: auto; font-size: var(--font-size-sm); color: var(--color-text-secondary);">
                        <span id="resultsCount">Carregando...</span>
                    </div>
                </div>

                <div id="mediaGalleryError" class="error-message" style="display:none; margin-bottom: var(--space-16);"></div>

                <!-- Tabela de m√≠dias -->
                <div class="table-container">
                    <table class="media-table">
                        <thead>
                            <tr>
                                <th style="width: 50px;">Tipo</th>
                                <th style="width: 80px;">Preview</th>
                                <th>Nome</th>
                                <th style="width: 150px;">Tamanho</th>
                                <th style="width: 180px;">Data</th>
                                <th style="width: 100px;">A√ß√µes</th>
                            </tr>
                        </thead>
                        <tbody id="mediaTableBody">
                            <!-- Linhas renderizadas via JS -->
                        </tbody>
                    </table>
                </div>

                <!-- Controles de pagina√ß√£o -->
                <div id="paginationControls" class="pagination-controls" style="margin-top: var(--space-24);">
                    <!-- Renderizado via JS -->
                </div>
            </div>
        </div>
    </div>

    <div id="senhaModal" style="display:none; position:fixed;top:0;left:0;width:100vw;height:100vh;background:rgba(0,0,0,0.3);align-items:center;justify-content:center;">
  <div class="modal-card">
    <h3>Digite sua senha atual:</h3>
    <input type="password" id="senhaInput" style="margin-bottom:12px;width:100%;" autofocus>
    <div class="modal-actions">
      <button id="confirmSenhaBtn" class="btn btn-primary">Confirmar</button>
      <button onclick="closeSenhaModal()" class="btn btn-secondary">Cancelar</button>
    </div>
  </div>
    </div>

    <!-- Upload Media Modal -->
    <div id="uploadMediaModal" style="display:none; position:fixed; top:0; left:0; width:100vw; height:100vh; background:rgba(0,0,0,0.5); z-index:1000; justify-content:center; align-items:center;">
      <div class="modal-card" style="max-width: 500px; width: 90%;">
        <h3 style="margin-bottom: var(--space-16);">Upload de M√≠dia</h3>
        <div id="uploadError" class="error-message" style="display:none; margin-bottom: var(--space-16);"></div>

        <form id="uploadMediaForm">
          <div style="margin-bottom: var(--space-16);">
            <label style="display: block; margin-bottom: var(--space-8); font-weight: 500;">Arquivo</label>
            <input
              type="file"
              id="mediaFileInput"
              accept="image/*,video/*,audio/*"
              required
              style="width: 100%; padding: var(--space-12); border: 2px solid var(--color-border); border-radius: var(--radius-base); background: var(--color-surface);"
            />
            <small style="color: var(--color-text-secondary); display: block; margin-top: var(--space-8);">
              Imagens (5MB) ‚Ä¢ V√≠deos (100MB) ‚Ä¢ √Åudios (20MB)
            </small>
          </div>

          <div style="margin-bottom: var(--space-16);">
            <label style="display: block; margin-bottom: var(--space-8); font-weight: 500;">T√≠tulo (opcional)</label>
            <input
              type="text"
              id="mediaTitleInput"
              maxlength="255"
              placeholder="Ex: Foto de F√©rias 2024"
              style="width: 100%; padding: var(--space-12); border: 2px solid var(--color-border); border-radius: var(--radius-base); background: var(--color-surface);"
            />
          </div>

          <div style="margin-bottom: var(--space-24);">
            <label style="display: block; margin-bottom: var(--space-8); font-weight: 500;">Descri√ß√£o (opcional)</label>
            <textarea
              id="mediaDescriptionInput"
              maxlength="1000"
              placeholder="Adicione uma descri√ß√£o..."
              rows="3"
              style="width: 100%; padding: var(--space-12); border: 2px solid var(--color-border); border-radius: var(--radius-base); background: var(--color-surface); resize: vertical; font-family: inherit;"
            ></textarea>
          </div>

          <div class="modal-actions" style="display: flex; gap: var(--space-12); justify-content: flex-end;">
            <button type="button" onclick="closeUploadModal()" class="btn btn-secondary">Cancelar</button>
            <button type="submit" id="uploadSubmitBtn" class="btn btn-primary">Upload</button>
          </div>
        </form>
      </div>
    </div>

    <script src="index.js"></script>
</body>
</html>

